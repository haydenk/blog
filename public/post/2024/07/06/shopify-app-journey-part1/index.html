<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Journey to Create A Shopify App | Hayden King</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">Journey to Create A Shopify App</span></h1>

<h2 class="date">2024/07/06</h2>
</div>

<main>
<p>When I started, I struggled with what I was going to use. I wanted to use Rails but I couldn&rsquo;t find much
information on how to use Rails with an embedded app in Shopify. That has since been debunked.</p>
<p>Before it was debunked, I settled on using Remix because it was in the Shopify developer documentation and made it easy
to get started. Really, this turned out to be a huge pain in the ass both in development and with deployment.</p>
<p>After a break from working on the shopify app, it dawned on me that I could use the javascript polaris libaries with a React
application within Rails.</p>
<p>I put all my shopify app routes under the <code>/shopify</code> URL so I can distingish between what routes are shopify app and what routes
are my own.</p>
<!-- raw HTML omitted -->
<script src="https://gist.github.com/haydenk/d248642fda2c49b0ba0b830c9d63d7dd.js?file=routes.rb"></script>

<p>The odd duck was the login url. It is not affected by the prefix for the <code>ShopifyApp::Engine</code>. It took quite a bit of digging but
I ended up figuring out you can set the login url in the shopify app initializer.</p>
<!-- raw HTML omitted -->
<p>The javascript setup in rails has two entrypoints, one for <code>shopify.js</code> that the shopify app will load and <code>application.js</code> which is the
standard Turbo JS setup for rails.</p>
<p>I had to modify the <code>package.json</code> and <code>bun.config.js</code> to &ldquo;compile&rdquo; both entrypoints.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// bun.config.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">config</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sourcemap</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;external&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">entrypoints</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;app/javascript/application.js&#34;</span>, <span style="color:#e6db74">&#34;app/javascript/shopify.js&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">outdir</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">join</span>(<span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">cwd</span>(), <span style="color:#e6db74">&#34;app/assets/builds&#34;</span>),
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<!-- raw HTML omitted -->
<p>Bun will work with both application.js and shopify.js while sass and postcss will handle both application.bootstrap.scss and shopify.scss. So, now I can use both polaris styles and polaris javascript with my shopify app and use something else for the rest of the application.</p>
<p>Next steps: I am working on using Grape API to handle the JSON API requests, whether it be requests for the shopify app or for this application itself. The tricky part here is that some of the shopify endpoints will require shopify shop, and possibly user, authorization for it to work correctly.</p>
</main>

  <footer>
  
  
  </footer>
  </body>
</html>


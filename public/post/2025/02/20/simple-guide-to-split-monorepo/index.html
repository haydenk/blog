<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>A Simple Guide to Split a Monorepo into a Separate Repository | Hayden King</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">A Simple Guide to Split a Monorepo into a Separate Repository</span></h1>

<h2 class="date">2025/02/20</h2>
</div>

<main>
<p>Assume we have monorepo at <code>git@github.com/haydenk/monorepo.git</code></p>
<p>With directory contents:</p>
<pre tabindex="0"><code>packageA/
packageB/
packageC/
</code></pre><p><em>I did say simple</em></p>
<hr>
<ol>
<li>Create the new repository. <code>git@github.com/haydenk/packageA.git</code></li>
<li>Clone the repository into an appropriate name for the new repository.
<ul>
<li><code>git clone git@github.com/haydenk/monorepo.git packageA/</code></li>
</ul>
</li>
<li>Replace the origin remote with the new repository.
<ul>
<li><code>git remote remove origin</code></li>
<li><code>git remote add origin git@github.com/haydenk/packageA.git</code></li>
</ul>
</li>
<li>Rewrite the repository to only the subdirectory or subdirectories you want in the new repository. With either master or develop branch or whatever branch you want to use.
<ul>
<li><code>git filter-branch --prune-empty --subdirectory-filter packageA -- develop</code></li>
<li>I chose develop because I will create a release branch to push this to master or you can simply merge into master.</li>
</ul>
</li>
<li>Push the rewrites
<ul>
<li><code>git push --all</code></li>
<li><code>git push --tags</code></li>
</ul>
</li>
</ol>

</main>

  <footer>
  
  
  </footer>
  </body>
</html>

